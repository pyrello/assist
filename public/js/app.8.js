webpackJsonp([8,3,20,44,45,48,52,53,87,95],{"+cKO":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxValue=t.minValue=t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.macAddress=t.ipAddress=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var n=O(i("FWhV")),a=O(i("PKmV")),r=O(i("hbkP")),s=O(i("3Ro/")),l=O(i("6rz0")),o=O(i("HSVw")),c=O(i("HM/u")),u=O(i("qHXR")),d=O(i("4ypF")),f=O(i("4oDf")),v=O(i("lEk1")),h=O(i("6+Xr")),p=O(i("L6Jx")),m=O(i("7J6f")),_=O(i("Y18q")),b=O(i("bXE/")),y=O(i("aYrh")),g=O(i("xJ3U"));function O(e){return e&&e.__esModule?e:{default:e}}t.alpha=n.default,t.alphaNum=a.default,t.numeric=r.default,t.between=s.default,t.email=l.default,t.ipAddress=o.default,t.macAddress=c.default,t.maxLength=u.default,t.minLength=d.default,t.required=f.default,t.requiredIf=v.default,t.requiredUnless=h.default,t.sameAs=p.default,t.url=m.default,t.or=_.default,t.and=b.default,t.minValue=y.default,t.maxValue=g.default},"+zut":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("selectize",{attrs:{all:e.all,value:e.value,placeholder:"Select the service...",id:"service_id",valueField:"id",valueType:"number"},on:{"update:value":function(t){e.value=t},input:e.select}})},staticRenderFns:[]}},"06Lg":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var n=i("woOf"),a=i.n(n),r=i("OQde");t.default={name:"selectize",data:function(){return{fetched:!0,localConfig:this.defaultConfig(),updating:!1,allCount:0,allCached:"",previousValue:null}},props:{all:{type:Array|Object},clear:{type:Boolean,default:!1},config:Object,disabled:{default:!1,type:Boolean},id:String,multiple:{default:!1,type:Boolean},labelField:{default:"name",type:String},placeholder:{default:"Select the item...",type:String},template:String,value:Array|String,identity:String,valueField:{default:"value",type:String},valueType:{default:"string",type:String}},computed:{selectize:function(){return this.$el&&this.$el.selectize||null}},mounted:function(){a()(this.localConfig,this.config),this.init()},updated:function(){a()(this.localConfig,this.config),this.init()},destroyed:function(){this.$el.selectize.destroy()},watch:{all:function(){var e=this;this.updating=!0,this.selectize&&(this.selectize.disable(),this.clearOptions(),this.selectize.load(function(t){e.all.length>0?(e.selectize.enable(),t(e.all),e.selectize.setValue(e.value,!0)):t(),e.updating=!1}))},disabled:function(e){this.selectize&&(e?this.selectize.disable():this.selectize.enable())},clear:function(e){e&&this.clearOptions(),this.$emit("clear")},value:function(e){this.previousValue=e,this.selectize&&this.selectize.setValue(e,!0)}},methods:{defaultConfig:function(){var e=this,t=this;return{valueField:this.valueField,labelField:this.labelField,searchField:this.labelField,onInitialize:function(){e.setValue()},onChange:function(t){e.select(t)},render:{option:function(e,i){return'<div class="option">'+i(t.itemLabel(e))+"</div>"},item:function(e,i){return'<div class="item">'+i(t.itemLabel(e))+"</div>"}}}},clearOptions:function(){this.selectize&&(this.selectize.loadedSearches={},this.selectize.userOptions={},this.selectize.renderCache={},this.selectize.options=this.selectize.sifter.items={},this.selectize.lastQuery=null,this.selectize.trigger("option_clear"),this.selectize.clear(!0))},init:function(){this.selectEl=this.$refs.select,e(this.$el).selectize(this.localConfig),this.setValue()},itemLabel:function(e){return Object(r.f)(this.template)?(e.first_name&&!Object(r.f)(e.first_name)&&e.last_name&&!Object(r.f)(e.last_name)&&console.warn("first name and last name are undefined",e),Object(r.k)(this.template,e)):"string"==typeof e?e:e[this.labelField]},itemValue:function(e){return"string"==typeof e?e:Object(r.i)(e,this.valueField)?e[this.valueField]:e.id},select:function(e){"number"===this.valueType&&0!==e&&"0"!==e&&(e=Array.isArray(e)?e.map(function(e){return Number(e)}):Number(e)),this.$emit("input",e)},setValue:function(){this.$el.selectize.setValue(this.value,!0)}}}}.call(t,i("7t+N"))},"3GxD":function(e,t,i){var n=i("VU/8")(i("vo3d"),i("ayyZ"),!1,null,null,null);e.exports=n.exports},"3Ro/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},function(i){return!(0,n.req)(i)||(!/\s/.test(i)||i instanceof Date)&&+e<=+i&&+t>=+i})}},"4oDf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.withParams)({type:"required"},n.req)},"4ypF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"minLength",min:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e})}},"6+Xr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},function(t,i){return!!(0,n.ref)(e,this,i)||(0,n.req)(t)})}},"6rz0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/)},"7J6f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i)},"8ix9":function(e,t,i){var n=i("VU/8")(i("j49G"),i("InYN"),!1,null,null,null);e.exports=n.exports},"9OIq":function(e,t,i){"use strict";var n=i("Dd8w"),a=i.n(n),r=i("jtR9"),s=i("UmUL");t.a=a()({},new s.a({name:"incident",storeName:"incidents",model:r.a}))},AHZm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("qvTH"),l=i.n(s);t.default={components:{Selectize:l.a},props:["id","stateName","value","disabled"],computed:a()({},Object(r.c)("locations",["cities"]),{citiesByState:function(){return this.cities(this.stateName)}}),methods:{select:function(e){this.$emit("input",e)}}}},"E/Fw":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("selectize",{attrs:{all:e.citiesByState,value:e.value,disabled:e.disabled,id:e.id,placeholder:"Select the city...",valueField:"name"},on:{"update:value":function(t){e.value=t},input:e.select}})},staticRenderFns:[]}},FWhV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.regex)("alpha",/^[a-zA-Z]*$/)},"HM/u":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},function(t){if(!(0,n.req)(t))return!0;if("string"!=typeof t)return!1;var i="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==i&&(6===i.length||8===i.length)&&i.every(a)})};var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},HSVw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.withParams)({type:"ipAddress"},function(e){if(!(0,n.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)});var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},InYN:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("selectize",{attrs:{all:e.all,value:e.value,placeholder:"Select the funding source...",id:"funding_source_id",valueField:"id",valueType:"number"},on:{"update:value":function(t){e.value=t},input:e.select}})},staticRenderFns:[]}},L6Jx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"sameAs",eq:e},function(t,i){return t===(0,n.ref)(e,this,i)})}},"Ni/e":function(e,t,i){var n=i("VU/8")(i("f7Rn"),i("+zut"),!1,null,null,null);e.exports=n.exports},PKmV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},Qhvs:function(e,t,i){var n=i("VU/8")(null,i("oUUi"),!1,null,null,null);e.exports=n.exports},URu4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var n,a=i("mpcv"),r=(n=a)&&n.__esModule?n:{default:n};t.withParams=r.default;var s=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e||!1===e)return!1;if(e instanceof Date)return!isNaN(e.getTime());if("object"==typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,i){return"function"==typeof e?e.call(t,i):i[e]},t.regex=function(e,t){return(0,r.default)({type:e},function(e){return!s(e)||t.test(e)})}},UmUL:function(e,t,i){"use strict";var n=i("Dd8w"),a=i.n(n),r=i("bOdI"),s=i.n(r),l=i("Zrlr"),o=i.n(l),c=i("NYxO"),u=i("OQde"),d=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},f=i("TFAV");t.a=function e(t){var i,n,r,l,v=t.name,h=t.storeName,p=t.model,m=void 0===p?f.a:p;o()(this,e),this.modelMixinOptions={name:v,storeName:h,model:m};var _=this;this.data=function(){var e;return e={},s()(e,_.modelMixinOptions.name,new _.modelMixinOptions.model),s()(e,"params",s()({},_.modelMixinOptions.name+"_id",null)),e},this.computed=a()({},Object(c.c)(h,(i={},s()(i,v+"ById","byId"),s()(i,"route"+d(v),"byRoute"),s()(i,"fetching"+d(v),"fetching"),i)),(n={},s()(n,"routeHas"+d(v)+"Model",function(){return this.$route.params&&this.$route.params[v+"_id"]||!1}),s()(n,v+"Data",function(){return this["fetching"+d(v)],this["routeHas"+d(v)+"Model"]?this["route"+d(v)]:this[v+"ById"](this.params[v+"_id"])}),n)),this.created=function(){this["set"+d(v)+"Id"]()},this.watch=(r={},s()(r,v+"Data",{deep:!0,handler:function(){this["reset"+_.modelMixinOptions.name](),this[_.modelMixinOptions.name+"Data"]&&this[""+_.modelMixinOptions.name].assign(this[_.modelMixinOptions.name+"Data"])}}),s()(r,"$route.params."+v+"_id",function(){this["set"+d(v)+"Id"]()}),s()(r,"params."+v+"_id",function(e){null!==e&&this["fetchCurrent"+d(v)]()}),r),this.methods=a()({},Object(c.b)(h,s()({},"fetch"+d(v)+"Data","fetch")),(l={},s()(l,"set"+d(v)+"Id",function(e){e=e?Number(e):this.$route.params[v+"_id"]?Number(this.$route.params[v+"_id"]):null,Vue.set(this.params,v+"_id",e)}),s()(l,v+"IdExists",function(){return Object(u.f)(this.params[v+"_id"])&&null!==this.params[v+"_id"]}),s()(l,"fetch"+d(v),function(e){var t=this;this["fetch"+d(v)+"Data"](e).then(function(e){return t[v+"Fetched"](e),e}).catch(function(e){console.error(e)})}),s()(l,"fetchRoute"+d(v),function(){var e=this,t=Number(this.$route.params[v+"_id"]);return!!t&&this["fetch"+d(v)+"Data"]({id:t,fetchId:"id:"+t}).then(function(t){return e["route"+d(v)+"Fetched"](),e["current"+d(v)+"Fetched"](),t}).catch(function(e){console.error(e)})}),s()(l,"fetchCurrent"+d(v),function(){var e=this,t=Number(this.params[v+"_id"]);return!!t&&this["fetch"+d(v)+"Data"]({id:t,fetchId:"id:"+t}).then(function(t){return e["route"+d(v)+"Fetched"](),e["current"+d(v)+"Fetched"](),t}).catch(function(e){console.error(e)})}),s()(l,"current"+d(v)+"Fetched",function(){}),s()(l,"route"+d(v)+"Fetched",function(){}),s()(l,v+"Fetched",function(){}),s()(l,"reset",function(){this.resetData()}),s()(l,"resetData",function(){this["reset"+v](),this.params[v+"_id"]=null}),s()(l,"reset"+v,function(){this[v]=new m}),l))}},VA8U:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"overlay-background"},[i("div",{staticClass:"overlay"},[i("header",{staticClass:"overlay-header"},[i("div",{staticClass:"header-actions pull-right"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){t.stopPropagation(),e.$router.back()}}},[i("i",{staticClass:"fa fa-close"}),e._v(" "),i("span",{staticClass:"hidden-xs"},[e._v("Cancel")])])]),e._v(" "),i("h1",[e._v("Add Service Request "),e.client?i("small",[e._v(" for "),i("client-link",{attrs:{client:e.client}})],1):e._e()])]),e._v(" "),i("div",{staticClass:"section"},[i("form",{attrs:{role:"form"},on:{submit:function(t){return t.preventDefault(),e.process(t)}}},[i("service-request-form-partial",{attrs:{$v:e.$v.activity},model:{value:e.activity,callback:function(t){e.activity=t},expression:"activity"}}),e._v(" "),i("div",{staticClass:"form-group",class:{"has-success":""!==e.activity.note}},[i("label",{staticClass:"control-label",attrs:{for:"note"}},[e._v("Notes")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.activity.note,expression:"activity.note",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"note",name:"note"},domProps:{value:e.activity.note},on:{input:function(t){t.target.composing||e.$set(e.activity,"note",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),e.$v.$invalid?i("p",[i("span",{staticClass:"text-warning"},[e._v("* Please ensure all fields are filled out correctly to proceed.")])]):e._e(),e._v(" "),i("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"submit",disabled:e.$v.$invalid}},[e._v("Save")]),e._v(" "),i("a",{staticClass:"btn btn-link",on:{click:function(t){t.stopPropagation(),e.$router.back()}}},[e._v("Cancel")])],1)])])])},staticRenderFns:[]}},VHMU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("qvTH"),l=i.n(s);t.default={name:"select-advocates",components:{Selectize:l.a},props:["value"],computed:a()({},Object(r.c)("advocates",["all"])),created:function(){this.fetch()},methods:a()({},Object(r.b)("advocates",["fetch"]),{select:function(e){this.$emit("input",e)}})}},Y18q:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.withParams)({type:"or"},function(){for(var e=this,i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t.length>0&&t.reduce(function(t,i){return t||i.apply(e,n)},!1)})}},Z2l8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("qvTH"),l=i.n(s);t.default={components:{Selectize:l.a},props:["value"],computed:a()({},Object(r.c)("locations",["states"])),mounted:function(){this.value&&this.getLocalitiesByState(this.value)},watch:{value:function(e){this.getLocalitiesByState(e)}},methods:a()({},Object(r.b)("locations",["getLocalitiesByState"]),{select:function(e){this.$emit("input",e)}})}},a5xv:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("selectize",{attrs:{all:e.all,value:e.value,labelField:"full_name",valueField:"id",valueType:"number"},on:{"update:value":function(t){e.value=t},input:e.select}})},staticRenderFns:[]}},aEuY:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("selectize",{attrs:{all:e.states,value:e.value,id:"select-state",placeholder:"Select the state...",valueField:"name"},on:{"update:value":function(t){e.value=t},input:e.select}},e._l(e.states,function(t){return i("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))},staticRenderFns:[]}},aYrh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"minValue",min:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},ayyZ:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"checkbox checkbox-slider--b-flat"},[t("label",[t("input",{attrs:{type:"checkbox"},domProps:{value:this.value,checked:this.value},on:{change:this.select}}),t("span",[this._t("default",[this._v(this._s(this.label))])],2)])])},staticRenderFns:[]}},b9xp:function(e,t,i){var n=i("VU/8")(i("Z2l8"),i("aEuY"),!1,null,null,null);e.exports=n.exports},"bXE/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.withParams)({type:"and"},function(){for(var e=this,i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t.length>0&&t.reduce(function(t,i){return t&&i.apply(e,n)},!0)})}},cJzZ:function(e,t,i){var n=i("VU/8")(i("i2en"),i("VA8U"),!1,null,null,null);e.exports=n.exports},f7Rn:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("qvTH"),l=i.n(s);t.default={name:"select-services",components:{Selectize:l.a},props:["value"],computed:a()({},Object(r.c)("services",["all"])),activated:function(){this.fetch()},methods:a()({},Object(r.b)("services",["fetch"]),{select:function(e){this.$emit("input",e)}})}},fQ0y:function(e,t,i){"use strict";var n=i("Dd8w"),a=i.n(n),r=i("b+22"),s=i("UmUL");t.a=a()({},new s.a({name:"client",storeName:"clients",model:r.a}))},hbkP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=(0,n.regex)("numeric",/^[0-9]*$/)},i2en:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("PJh5"),s=i.n(r),l=i("+cKO"),o=(i.n(l),i("NYxO")),c=i("OQde"),u=i("ktYC"),d=i.n(u),f=i("fQ0y"),v=i("9OIq"),h=i("jDCc"),p=i("tP61");t.default={name:"add-activity",components:{ServiceRequestFormPartial:d.a},mixins:[f.a,v.a,h.a],data:function(){return{activity:new p.a}},validations:function(){var e=this;return{activity:{advocate_id:{numeric:l.numeric,required:l.required},requested_service_id:{numeric:l.numeric,required:l.required},why_not_provided:{requiredIf:Object(l.requiredIf)(function(){return!e.activity.service_provided})},started_at:{requiredIf:Object(l.requiredIf)(function(){return e.activity.service_provided})},ended_at:{requiredIf:Object(l.requiredIf)(function(){return e.activity.service_provided})},funding_source_id:{numeric:l.numeric,requiredIf:Object(l.requiredIf)(function(){return e.activity.service_provided})},state:{requiredIf:Object(l.requiredIf)(function(){return e.activity.service_provided})},city:{requiredIf:Object(l.requiredIf)(function(){return e.activity.service_provided})}}}},created:function(){this.init()},methods:a()({},Object(o.b)("activities",["create"]),{currentClientFetched:function(){var e=this;this.$nextTick(function(){e.client.last_incident_id&&(e.setIncidentId(e.client.last_incident_id),e.activity.assign({incident_id:e.client.last_incident_id}),e.fetchIncident({id:e.client.last_incident_id}))})},init:function(){var e=this;this.fetchCurrentClient(),this.$nextTick(function(){e.setAuthUser(),e.activity.assign({client_id:e.$route.params.client_id})})},process:function(){var e=this;if(this.$v.$invalid)window.scrollTo(0,0),this.addMessage({text:"The form contains errors. Please ensure that all fields are filled out correctly and try your submission again.",type:"danger",sticky:1});else{var t=this.activity.getAttributes();this.activity.service_provided?t.why_not_provided=null:(t.started_at=s()().format("YYYY-MM-DD HH:mm:ss"),t.ended_at=null,t.funding_source_id=null);var i={data:t};this.create(i).then(function(t){e.addMessage("Added "+t.service.name+" activity record for "+e.client.first_name+" "+e.client.last_name),e.$router.push("/clients/"+e.client.id+"/activities")}).catch(function(t){Object(c.f)(t.body)&&Object(c.f)(t.body.message)&&e.addMessage({text:t.body.message,type:"danger"})})}},reset:function(){this.resetData(),this.$v.$reset()},resetData:function(){this.activity=new p.a},setAuthUser:function(){this.activity.assign({advocate_id:this.authUser.id})}})}},i6AO:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",{ref:"select",staticClass:"form-control",attrs:{id:e.id,placeholder:e.placeholder,multiple:e.multiple},domProps:{value:e.value},on:{"update:value":function(t){e.value=t}}},[e._t("default",e._l(e.all,function(t){return i("option",{domProps:{value:e.itemValue(t),textContent:e._s(e.itemLabel(t))}})}))],2)},staticRenderFns:[]}},j49G:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("qvTH"),l=i.n(s);t.default={name:"select-funding-source",components:{Selectize:l.a},props:["value"],computed:a()({},Object(r.c)("fundingSources",["all"])),methods:{select:function(e){this.$emit("input",e)}}}},jDCc:function(e,t,i){"use strict";var n=i("Dd8w"),a=i.n(n),r=i("NYxO");t.a={computed:a()({},Object(r.c)("locations",["currentState","states","stateLoading","counties","cities"])),watch:{currentState:function(){this.getLocalitiesByState()}},methods:a()({},Object(r.b)("locations",["getLocalitiesByState","getStateByName","setCurrentState"]))}},jtR9:function(e,t,i){"use strict";var n=i("Zx67"),a=i.n(n),r=i("Zrlr"),s=i.n(r),l=i("zwoO"),o=i.n(l),c=i("Pf15"),u=i.n(c),d=i("OQde"),f=i("vXSK"),v=i("TFAV"),h=(i("0aVa"),function(){return{date:Object(d.h)(f.a),client_id:null,advocate_id:null,incident_type_id:null,state:"",city:"",note:""}}),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),o()(this,(t.__proto__||a()(t)).call(this,h(),e))}return u()(t,e),t}(v.a);t.a=p},kfSt:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"form-group",class:e.controlClasses("advocate_id")},[i("label",{staticClass:"control-label",attrs:{for:"advocate_id"}},[e._v("Advocate "),i("required-asterisk")],1),e._v(" "),i("select-advocate",{model:{value:e.model.advocate_id,callback:function(t){e.$set(e.model,"advocate_id",t)},expression:"model.advocate_id"}})],1),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("requested_service_id")},[i("label",{staticClass:"control-label",attrs:{for:"requested_service_id"}},[e._v("Service Requested "),i("required-asterisk")],1),e._v(" "),i("select-service",{model:{value:e.model.requested_service_id,callback:function(t){e.$set(e.model,"requested_service_id",t)},expression:"model.requested_service_id"}})],1),e._v(" "),i("checkbox-slider",{class:e.controlClasses("service_provided"),attrs:{label:"The service was provided"},model:{value:e.model.service_provided,callback:function(t){e.$set(e.model,"service_provided",t)},expression:"model.service_provided"}}),e._v(" "),i("hr"),e._v(" "),i("div",{class:{hidden:!e.model.service_provided}},[i("label",[e._v("When was the service provided?")]),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("started_at")},[i("label",{staticClass:"control-label",attrs:{for:"started_at"}},[e._v("Start "),i("required-asterisk")],1),e._v(" "),i("input-date",{attrs:{id:"started_at",end:"now","enable-time":!0},model:{value:e.model.started_at,callback:function(t){e.$set(e.model,"started_at",t)},expression:"model.started_at"}})],1),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("ended_at")},[i("label",{staticClass:"control-label",attrs:{for:"ended_at"}},[e._v("End "),i("required-asterisk")],1),e._v(" "),i("input-date",{attrs:{id:"ended_at",start:e.model.started_at,end:"now","enable-time":!0},model:{value:e.model.ended_at,callback:function(t){e.$set(e.model,"ended_at",t)},expression:"model.ended_at"}})],1),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("funding_source_id")},[i("label",{staticClass:"control-label",attrs:{for:"funding_source_id"}},[e._v("Funding Source "),i("required-asterisk")],1),e._v(" "),i("select-funding",{model:{value:e.model.funding_source_id,callback:function(t){e.$set(e.model,"funding_source_id",t)},expression:"model.funding_source_id"}})],1),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("state")},[i("label",{staticClass:"control-label",attrs:{for:"state"}},[e._v("State "),i("required-asterisk")],1),e._v(" "),i("select-state",{model:{value:e.model.state,callback:function(t){e.$set(e.model,"state",t)},expression:"model.state"}})],1),e._v(" "),i("div",{staticClass:"form-group",class:e.controlClasses("city")},[i("label",{staticClass:"control-label",attrs:{for:"city"}},[e._v("City "),i("required-asterisk"),e._v(" "),e.stateLoading?i("i",{staticClass:"fa fa-refresh fa-spin"}):e._e()],1),e._v(" "),i("select-city",{attrs:{stateName:e.model.state},on:{"update:stateName":function(t){e.$set(e.model,"state",t)}},model:{value:e.model.city,callback:function(t){e.$set(e.model,"city",t)},expression:"model.city"}})],1)]),e._v(" "),i("div",{class:{hidden:e.model.service_provided}},[i("div",{staticClass:"form-group",class:e.controlClasses("why_not_provided")},[i("label",{staticClass:"control-label",attrs:{for:"why_not_provided"}},[e._v("Why was the service not provided?")]),e._v(" "),i("selectize",{attrs:{id:"why_not_provided",all:e.serviceNotProvidedReasons,placeholder:"Select the reason..."},model:{value:e.model.why_not_provided,callback:function(t){e.$set(e.model,"why_not_provided",t)},expression:"model.why_not_provided"}})],1)])],1)},staticRenderFns:[]}},ktYC:function(e,t,i){var n=i("VU/8")(i("pQcI"),i("kfSt"),!1,null,null,null);e.exports=n.exports},lEk1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},function(t,i){return!(0,n.ref)(e,this,i)||(0,n.req)(t)})}},mpcv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("JVqD").withParams;t.default=n},nW08:function(e,t,i){"use strict";var n=i("OQde"),a=i("TFAV");t.a={methods:{controlClasses:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model",i=arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("boolean"==typeof t?(r=t,t="model"):"boolean"==typeof i&&(r=i,i=void 0),r&&console.log({prop:e,model:t}),!Object(n.f)(i)&&this.$v&&(i=this.$v,"string"==typeof t&&(r&&console.log("Checking if we can use model in validation",t),Object(n.i)(i,t)&&(i=i[t]))),i=_.get(i,e),r&&console.log("$validation",i),"string"==typeof t?t=this[t]:t||(t=this.model),r&&console.log("[controlClasses]","model",t),!t||!t instanceof a.a)return console.warn("Unable to find model for checking control classes.",e),!0;r&&console.log("changed",t.getChanges(e),Object(n.f)(t.getChanges(e)));var s=!1,l=!0,o=!1,c=_.get(t,e),u=Object(n.f)(t.getChanges(e)),d=!Object(n.f)(c)||null===c||("string"==typeof c||"number"==typeof c)&&""===c||"id"===e&&!c;return r&&console.log("empty",d,c,!Object(n.f)(c),null===c,"string"==typeof c,"number"==typeof c,""!==c,("string"==typeof c||"number"==typeof c)&&""===c,!c,"id"===e&&!c),Object(n.f)(i)&&(r&&console.log("validation is defined"),r&&console.log("required",Object(n.f)(i.required),i.required),(Object(n.f)(i.required)||Object(n.f)(i.requiredIf))&&(o=!0),l=!i.$invalid),r&&console.log({check:s,valid:l,value:c,changed:u,required:o,empty:d}),o?(s=!0,d&&(r&&console.log("empty and required = invalid"),l=!1)):s=u,!t.exists||u||o&&!l?(r&&console.log("final",{check:s,valid:l}),s?{"has-warning":!l,"has-success":l}:""):(r&&console.log("Model exists and prop has not changed."),"")},feedbackClasses:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"model",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("boolean"==typeof t&&(a=t,t=void 0),a&&console.log("prop",e),"String"==typeof i?i=this[i]:i||(i=this.model),!i)return!0;if(a&&console.log("$validation",t),"string"==typeof t&&this.$v){var r=t;t=Object(n.d)(this.$v,r),Object(n.f)(t)||(t=Object(n.d)(this.$v.model,r)),Object(n.f)(t)||console.warn("Validation for "+r+" is not defined")}a&&console.log("$validation",t);var s=!1,l=!1,o=_.get(i,e),c=Object(n.f)(Object(n.d)(i.changed,e)),u=!1,d=_.isUndefined(o)||("string"==typeof o||"number"==typeof o)&&""!==o;return Object(n.f)(t)&&(a&&console.log("validation is defined"),l=!t.$invalid,a&&console.log("required",Object(n.f)(t.required),t.required),Object(n.f)(t.required)&&(u=!0)),a&&console.log({check:s,valid:l,value:o,changed:c,required:u,empty:d}),u&&(s=!0,d&&(l=!1)),a&&console.log("final",{check:s,valid:l}),s?{"has-warning":!l,"has-success":l}:""}}}},oUUi:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v("*")])},staticRenderFns:[]}},pQcI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),r=i("NYxO"),s=i("3GxD"),l=i.n(s),o=i("v8Wo"),c=i.n(o),u=i("8ix9"),d=i.n(u),f=i("Ni/e"),v=i.n(f),h=i("jDCc"),p=i("nW08"),m=i("tP61"),_=i("zPOm"),b=i.n(_),y=i("b9xp"),g=i.n(y),O=i("Qhvs"),x=i.n(O);t.default={name:"service-request-form-partial",components:{CheckboxSlider:l.a,RequiredAsterisk:x.a,SelectAdvocate:c.a,SelectCity:b.a,SelectFunding:d.a,SelectService:v.a,SelectState:g.a},mixins:[h.a,p.a],props:["value","$v"],data:function(){return{model:new m.a}},computed:a()({},Object(r.c)("serviceNotProvidedReasons",{serviceNotProvidedReasons:"all"})),watch:{model:function(){this.model&&this.model.isDirty()&&this.$emit("input",this.model)},value:function(e){this.model=e}}}},qHXR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"maxLength",max:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e})}},qvTH:function(e,t,i){var n=i("VU/8")(i("06Lg"),i("i6AO"),!1,null,null,null);e.exports=n.exports},tP61:function(e,t,i){"use strict";var n=i("Zx67"),a=i.n(n),r=i("Zrlr"),s=i.n(r),l=i("zwoO"),o=i.n(l),c=i("Pf15"),u=i.n(c),d=i("PJh5"),f=i.n(d),v=(i("OQde"),i("vXSK"),function(){var e=f()().startOf("hour").subtract(1,"h");f()(e).add(1,"h");return{advocate_id:null,client_id:null,incident_id:null,requested_service_id:null,service_provided:!0,why_not_provided:"",started_at:null,ended_at:null,duration:null,funding_source_id:null,state:"",city:"",client_age:null,note:""}}),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),o()(this,(t.__proto__||a()(t)).call(this,v(),e))}return u()(t,e),t}(i("TFAV").a);t.a=h},v8Wo:function(e,t,i){var n=i("VU/8")(i("VHMU"),i("a5xv"),!1,null,null,null);e.exports=n.exports},vXSK:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return r});var n=i("Dd8w"),a=(i.n(n),i("OQde"),"YYYY-MM-DD"),r=function(){return{first_name:"",last_name:"",email:"",password:"",password_confirmation:""}}},vo3d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"checkbox-slider",props:{label:{type:String,required:!0},value:[Boolean,Number,String]},methods:{select:function(e){this.$emit("input",!!e.target.checked)}}}},xJ3U:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("URu4");t.default=function(e){return(0,n.withParams)({type:"maxValue",max:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}},zPOm:function(e,t,i){var n=i("VU/8")(i("AHZm"),i("E/Fw"),!1,null,null,null);e.exports=n.exports}});