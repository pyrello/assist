webpackJsonp([55,3],{"06Lg":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=l("woOf"),n=l.n(i),a=l("OQde");t.default={name:"selectize",data:function(){return{fetched:!0,localConfig:this.defaultConfig(),updating:!1,allCount:0,allCached:"",previousValue:null}},props:{all:{type:Array|Object},clear:{type:Boolean,default:!1},config:Object,disabled:{default:!1,type:Boolean},id:String,multiple:{default:!1,type:Boolean},labelField:{default:"name",type:String},placeholder:{default:"Select the item...",type:String},template:String,value:Array|String,identity:String,valueField:{default:"value",type:String},valueType:{default:"string",type:String}},computed:{selectize:function(){return this.$el&&this.$el.selectize||null}},mounted:function(){n()(this.localConfig,this.config),this.init()},updated:function(){n()(this.localConfig,this.config),this.init()},destroyed:function(){this.$el.selectize.destroy()},watch:{all:function(){var e=this;this.updating=!0,this.selectize&&(this.selectize.disable(),this.clearOptions(),this.selectize.load(function(t){e.all.length>0?(e.selectize.enable(),t(e.all),e.selectize.setValue(e.value,!0)):t(),e.updating=!1}))},disabled:function(e){this.selectize&&(e?this.selectize.disable():this.selectize.enable())},clear:function(e){e&&this.clearOptions(),this.$emit("clear")},value:function(e){this.previousValue=e,e||this.clearOptions(),this.selectize&&this.selectize.setValue(e,!0)}},methods:{defaultConfig:function(){var e=this,t=this;return{valueField:this.valueField,labelField:this.labelField,searchField:this.labelField,onInitialize:function(){e.setValue()},onChange:function(t){e.select(t)},render:{option:function(e,l){return'<div class="option">'+l(t.itemLabel(e))+"</div>"},item:function(e,l){return'<div class="item">'+l(t.itemLabel(e))+"</div>"}}}},clearOptions:function(){this.selectize&&(this.selectize.loadedSearches={},this.selectize.userOptions={},this.selectize.renderCache={},this.selectize.options=this.selectize.sifter.items={},this.selectize.lastQuery=null,this.selectize.trigger("option_clear"),this.selectize.clear(!0))},init:function(){this.selectEl=this.$refs.select,e(this.$el).selectize(this.localConfig),this.setValue()},itemLabel:function(e){return Object(a.f)(this.template)?(e.first_name&&!Object(a.f)(e.first_name)&&e.last_name&&!Object(a.f)(e.last_name)&&console.warn("first name and last name are undefined",e),Object(a.k)(this.template,e)):"string"==typeof e?e:e[this.labelField]},itemValue:function(e){return"string"==typeof e?e:Object(a.i)(e,this.valueField)?e[this.valueField]:e.id},select:function(e){"number"===this.valueType&&0!==e&&"0"!==e&&(e=Array.isArray(e)?e.map(function(e){return Number(e)}):Number(e)),this.$emit("input",e)},setValue:function(){this.$el.selectize.setValue(this.value,!0)}}}}.call(t,l("7t+N"))},"37xD":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l("Dd8w"),n=l.n(i),a=l("NYxO"),s=l("qvTH"),u=l.n(s);t.default={name:"client-autocomplete",components:{Selectize:u.a},computed:n()({},Object(a.c)("clientAutocomplete",["query"])),props:{id:String,exclude_id:Number,exclude:Object|String,value:Number,preload:{type:Array,default:function(){return[]}}},methods:n()({},Object(a.b)("clientAutocomplete",["clear","fetch"]),{defaultConfig:function(){var e=this;return{valueField:"id",labelField:"full_name",searchField:"full_name",options:[],create:!1,load:function(t,l){if(!t.length)return l();_.isEmpty(e.exclude)||(t={params:{exclude:e.exclude,q:t}}),e.fetch(t).then(function(t){e.exclude_id&&(t=t.filter(function(t){return t.id!==e.exclude_id})),l(t)}).catch(function(e){return l(e)})}}},select:function(e){e=Number(e)||null,this.$emit("input",e)}})}},EUaC:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("select",{ref:"select",staticClass:"form-control",attrs:{id:e.id,placeholder:e.placeholder,multiple:e.multiple},domProps:{value:e.value},on:{"update:value":function(t){e.value=t}}},[e._t("default",e._l(e.all,function(t){return l("option",{domProps:{value:e.itemValue(t),textContent:e._s(e.itemLabel(t))}})}))],2)},staticRenderFns:[]}},"GH/w":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("selectize",{staticClass:"form-control selectize-search",attrs:{id:e.id,value:e.value,all:e.preload,placeholder:"Start typing to search for a client...","label-field":"full_name","value-type":"number",config:e.defaultConfig()},on:{input:e.select}},e._l(e.preload,function(t){return l("option",{domProps:{value:t.id}},[e._v(e._s(t.full_name))])}))},staticRenderFns:[]}},WNBY:function(e,t,l){var i=l("VU/8")(l("37xD"),l("GH/w"),!1,null,null,null);e.exports=i.exports},qvTH:function(e,t,l){var i=l("VU/8")(l("06Lg"),l("EUaC"),!1,null,null,null);e.exports=i.exports}});