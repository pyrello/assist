webpackJsonp([80],{KZDb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"content-header"},[a("h1",[t._v("Abusers"),t.fetching?a("small",[a("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e()])]),t._v(" "),a("div",{staticClass:"section"},[a("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.init(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label hidden"},[t._v("Search")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"form-control control-lg",attrs:{type:"text"},domProps:{value:t.q},on:{input:function(e){e.target.composing||(t.q=e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),t.fetching?a("span",[a("i",{staticClass:"fas fa-spinner fa-pulse"}),t._v(" Searching...")]):t._e()]),t._v(" "),a("grid",{attrs:{fields:t.fields,data:t.all,meta:t.meta,initialSortKey:"last_name"},scopedSlots:t._u([{key:"first_name",fn:function(e){return[a("router-link",{attrs:{to:"/abusers/"+e.item.id}},[t._v(t._s(e.item.first_name))])]}},{key:"last_name",fn:function(e){return[a("router-link",{attrs:{to:"/abusers/"+e.item.id}},[t._v(t._s(e.item.last_name))])]}},{key:"actions",fn:function(e){return[a("div",{staticClass:"table-button-container"},[a("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/abusers/"+e.item.id+"/edit"}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Edit")]),t._v(" "),t.authUser.is_admin?a("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(a){t.confirmDelete(e.item.id)}}},[a("i",{staticClass:"fa fa-remove"}),t._v(" Delete")]):t._e(),t._v("  \n                ")],1)]}}])})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-success btn-lg"},[e("i",{staticClass:"fas fa-search"}),this._v(" Search")])}]}},Tfdv:function(t,e,a){var n=a("VU/8")(a("fUxj"),a("KZDb"),!1,null,null,null);t.exports=n.exports},fUxj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),i=a("NYxO");e.default={name:"abuser-index",data:function(){return{fields:[{name:"first_name",title:"First Name",titleClass:"fit-content",dataClass:"fit-content"},{name:"last_name",title:"Last Name"},{name:"actions",titleClass:"fit-content",dataClass:"fit-content",sortable:!1}],q:""}},computed:s()({},Object(i.c)("abusers",{byId:"byId",fetching:"fetching",meta:"meta",paginated:"paginated"}),{all:function(){return this.paginated}}),created:function(){this.init(this.$route.query)},beforeRouteUpdate:function(t,e,a){this.init(t.query),a()},beforeRouteLeave:function(t,e,a){this.q="",a()},methods:s()({},Object(i.b)("abusers",["destroy","fetch"]),{confirmDelete:function(t){var e=this,a=this.byId(t).full_name;confirm("Are you sure that you want to delete the abuser, "+a+"?")&&this.destroy({id:t}).then(function(){e.addMessage(a+" has been deleted.")})},init:function(t){console.warn(this.$options.name,"init");var e=t&&t.page||1,a={params:{page:Number(e)}};this.q&&(a.params.q=this.q),this.fetch(a)}})}}});