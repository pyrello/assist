webpackJsonp([65],{"1/uv":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.client?n("div",[t.client.parent_id?n("h3",[n("strong",[t._v("Dependent of "),t.parent&&t.parent.full_name?n("client-link",{attrs:{client:t.parent}}):n("small",[n("i",{staticClass:"fas fa-spinner fa-spin"})])],1)]):t._e(),t._v(" "),n("h4",[t._v("Intake\n        "),n("small",[n("router-link",{attrs:{to:"/intakes/"+t.client.intake_id}},[t._v("View "),n("i",{staticClass:"fas fa-caret-right"})])],1)]),t._v(" "),n("table",{staticClass:"table"},[n("tbody",[t.client.intake?n("tr",[n("th",{staticClass:"fit-content"},[t._v("Date")]),t._v(" "),n("td",[t._v(t._s(t._f("prettyDatetime")(t.client.intake.date)))])]):t._e(),t._v(" "),t.advocate?n("tr",[n("th",{staticClass:"fit-content"},[t._v("Advocate")]),t._v(" "),n("td",[t._v(t._s(t.advocate.full_name))])]):t._e(),t._v(" "),t.referralSource?n("tr",[n("th",{staticClass:"fit-content"},[t._v("Referred by")]),t._v(" "),n("td",[t._v(t._s(t.referralSource.name))])]):t._e()])]),t._v(" "),n("h4",[t._v("Basic Info")]),t._v(" "),n("table",{staticClass:"table"},[n("tbody",[n("tr",[n("th",{staticClass:"fit-content"},[t._v("Gender")]),t._v(" "),n("td",[t._v(t._s(t.client.gender))])]),t._v(" "),n("tr",[n("th",{staticClass:"fit-content"},[t._v("Ethnicity")]),t._v(" "),n("td",[t._l(t.client.ethnicity,function(e){return[n("span",{staticClass:"label label-info"},[t._v(t._s(e.name))]),t._v(" \n                ")]})],2)]),t._v(" "),n("tr",[n("th",{staticClass:"fit-content"},[t._v("Date of Birth")]),t._v(" "),n("td",[t.client.birth_date?[t._v(t._s(t._f("prettyDate")(t.client.birth_date)))]:[t._v("Unknown")]],2)]),t._v(" "),n("tr",[n("th",{staticClass:"fit-content"},[t._v("Address")]),t._v(" "),n("td",[t.client.address?n("address",[t.client.address.street?[t._v(t._s(t.client.address.street)),n("br")]:t._e(),t._v(" "),t.client.address.apt?[t._v(t._s(t.client.address.apt)),n("br")]:t._e(),t._v(" "),t.client.address.city?[t._v(t._s(t.client.address.city)+",")]:t._e(),t._v(" "),t.client.address.county?[t._v(t._s(t.client.address.county)+",")]:t._e(),t._v(" "),t.client.address.state?[t._v(t._s(t.client.address.state))]:t._e(),t._v(" "),t.client.address.zip?[t._v(t._s(t.client.address.zip))]:t._e()],2):[t._v("Homeless")]],2)])])]),t._v(" "),t.client.household&&!t.client.parent_id?[n("h4",[t._v("Household")]),t._v(" "),t.client.household?n("table",{staticClass:"table"},[n("tbody",[n("tr",[n("th",{staticClass:"fit-content"},[t._v("Size")]),t._v(" "),n("td",[t._v(t._s(t.client.household.size))])]),t._v(" "),n("tr",[n("th",{staticClass:"fit-content"},[t._v("Annual Income")]),t._v(" "),n("td",[t._v(t._s(t.client.household.annual_income))])])])]):t._e()]:t._e(),t._v(" "),n("h4",{staticClass:"panel-title"},[t._v("Phone Numbers")]),t._v(" "),n("grid",{attrs:{data:t.client.phones,fields:t.phoneFields},scopedSlots:t._u([{key:"primary",fn:function(e){return[1===e.item.primary?n("i",{staticClass:"fas fa-check-circle fa-fw text-success"}):t._e()]}},{key:"number",fn:function(e){return[t._v("\n            "+t._s(t._f("phone")(e.item.number))+"\n        ")]}},{key:"safe",fn:function(t){return[1===t.item.safe?n("i",{staticClass:"fas fa-check-circle fa-fw text-success"}):n("i",{staticClass:"fas fa-times-circle fa-fw text-danger"})]}},{key:"actions",fn:function(e){return[n("div",{staticClass:"table-button-container"},[t.client?n("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/clients/"+t.client.id+"/phones/"+e.item.id+"/edit"}},[n("i",{staticClass:"fas fa-edit fa-fw"})]):t._e(),t._v(" "),t.authUser.is_admin?n("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(n){t.confirmDelete(e.item.id)}}},[n("i",{staticClass:"fas fa-trash-alt fa-fw"})]):t._e(),t._v("  \n            ")],1)]}}])}),t._v(" "),n("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"phones/add"}},[n("i",{staticClass:"fas fa-mobile"}),t._v(" Add phone")])],2):t._e()},staticRenderFns:[]}},"EQP+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),s=n.n(i),a=n("NYxO"),r=n("fQ0y");e.default={name:"profile-client",mixins:[r.a],data:function(){return{phoneFields:[{name:"primary",sortable:!1},"number",{name:"ext",sortable:!1},"type",{name:"safe",sortable:!1},{name:"actions",titleClass:"fit-content",dataClass:"fit-content",sortable:!1}]}},computed:s()({},Object(a.c)("advocates",{advocateById:"byId"}),Object(a.c)("referralSources",{referralSourceById:"byId"}),{advocate:function(){return this.client&&this.client.intake?this.advocateById(this.client.intake.advocate_id):null},referralSource:function(){if(this.client&&this.client.intake)return this.referralSourceById(this.client.intake.referred_by_id)},parent:function(){return this.routeClient?this.clientById(this.routeClient.parent_id):null}}),created:function(){this.init()},watch:{routeClient:function(){this.advocate&&this.advocate.id===this.client.advocate_id||this.fetchAdvocate({params:{id:this.client.advocate_id}})}},methods:s()({},Object(a.b)("advocates",{fetchAdvocate:"fetch"}),Object(a.b)("phones",{destroyPhone:"destroy"}),{routeClientFetched:function(){this.routeClient&&this.routeClient.parent_id&&this.fetchClient({id:Number(this.routeClient.parent_id)})},confirmDelete:function(t){var e=this;confirm("Are you sure that you want to delete this phone?")&&this.destroyPhone({id:t}).then(function(){e.addMessage("This phone has been deleted."),e.fetchClient({id:e.client.id})})},init:function(){this.fetchCurrentClient()}})}},UmUL:function(t,e,n){"use strict";var i=n("Dd8w"),s=n.n(i),a=n("bOdI"),r=n.n(a),c=n("Zrlr"),o=n.n(c),d=n("NYxO"),l=n("OQde"),u=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},h=n("TFAV");e.a=function t(e){var n,i,a,c,f=e.name,_=e.storeName,v=e.model,m=void 0===v?h.a:v;o()(this,t),this.modelMixinOptions={name:f,storeName:_,model:m};var p=this;this.data=function(){var t;return t={},r()(t,p.modelMixinOptions.name,new p.modelMixinOptions.model),r()(t,"params",r()({},p.modelMixinOptions.name+"_id",null)),t},this.computed=s()({},Object(d.c)(_,(n={},r()(n,f+"ById","byId"),r()(n,"route"+u(f),"byRoute"),r()(n,"fetching"+u(f),"fetching"),n)),(i={},r()(i,"routeHas"+u(f)+"Model",function(){return this.$route.params&&this.$route.params[f+"_id"]||!1}),r()(i,f+"Data",function(){return this["fetching"+u(f)],this["routeHas"+u(f)+"Model"]?this["route"+u(f)]:this[f+"ById"](this.params[f+"_id"])}),i)),this.created=function(){this["set"+u(f)+"Id"]()},this.watch=(a={},r()(a,f+"Data",{deep:!0,handler:function(){this["reset"+p.modelMixinOptions.name](),this[p.modelMixinOptions.name+"Data"]&&this[""+p.modelMixinOptions.name].assign(this[p.modelMixinOptions.name+"Data"])}}),r()(a,"$route.params."+f+"_id",function(){this["set"+u(f)+"Id"]()}),r()(a,"params."+f+"_id",function(t){null!==t&&this["fetchCurrent"+u(f)]()}),a),this.methods=s()({},Object(d.b)(_,r()({},"fetch"+u(f)+"Data","fetch")),(c={},r()(c,"set"+u(f)+"Id",function(t){t=t?Number(t):this.$route.params[f+"_id"]?Number(this.$route.params[f+"_id"]):null,Vue.set(this.params,f+"_id",t)}),r()(c,f+"IdExists",function(){return Object(l.f)(this.params[f+"_id"])&&null!==this.params[f+"_id"]}),r()(c,"fetch"+u(f),function(t){var e=this;this["fetch"+u(f)+"Data"](t).then(function(t){return e[f+"Fetched"](t),t}).catch(function(t){console.error(t)})}),r()(c,"fetchRoute"+u(f),function(){var t=this,e=Number(this.$route.params[f+"_id"]);return!!e&&this["fetch"+u(f)+"Data"]({id:e,fetchId:"id:"+e}).then(function(e){return t["route"+u(f)+"Fetched"](),t["current"+u(f)+"Fetched"](),e}).catch(function(t){console.error(t)})}),r()(c,"fetchCurrent"+u(f),function(){var t=this,e=Number(this.params[f+"_id"]);return!!e&&this["fetch"+u(f)+"Data"]({id:e,fetchId:"id:"+e}).then(function(e){return t["route"+u(f)+"Fetched"](),t["current"+u(f)+"Fetched"](),e}).catch(function(t){console.error(t)})}),r()(c,"current"+u(f)+"Fetched",function(){}),r()(c,"route"+u(f)+"Fetched",function(){}),r()(c,f+"Fetched",function(){}),r()(c,"reset",function(){this.resetData()}),r()(c,"resetData",function(){this["reset"+f](),this.params[f+"_id"]=null}),r()(c,"reset"+f,function(){this[f]=new m}),c))}},fQ0y:function(t,e,n){"use strict";var i=n("Dd8w"),s=n.n(i),a=n("b+22"),r=n("UmUL");e.a=s()({},new r.a({name:"client",storeName:"clients",model:a.a}))},gzeB:function(t,e,n){var i=n("VU/8")(n("EQP+"),n("1/uv"),!1,null,null,null);t.exports=i.exports}});