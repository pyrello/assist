webpackJsonp([75],{bWPo:function(t,e,n){var i=n("VU/8")(n("vMQG"),n("rSJN"),!1,null,null,null);t.exports=i.exports},rSJN:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",{staticClass:"content-header"},[n("div",{staticClass:"header-actions pull-right hidden-sm hidden-xs desktop"},[n("add-button",{attrs:{url:"/intakes/add",text:"Add Model"}})],1),t._v(" "),n("h1",[t._v("Intakes")]),t._v(" "),n("div",{staticClass:"header-actions hidden-md hidden-lg mobile"},[n("add-button",{attrs:{url:"/intakes/add",text:"Add Model"}})],1)]),t._v(" "),n("div",{staticClass:"section"},[n("grid",{attrs:{fields:t.fields,data:t.all,meta:t.meta,fetching:t.fetching,initialSortKey:"last_name"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("router-link",{attrs:{to:"/intakes/"+e.item.id}},[t._v(t._s(e.item.id))])]}},{key:"date",fn:function(e){return[t._v("\n                "+t._s(t._f("prettyDate")(e.item.date))+"\n            ")]}},{key:"actions",fn:function(e){return[n("div",{staticClass:"table-button-container"},[n("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/intakes/"+e.item.id+"/edit"}},[n("i",{staticClass:"fa fa-pencil"}),t._v(" Edit")]),t._v(" "),t.authUser.is_admin?n("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(n){t.confirmDelete(e.item.id)}}},[n("i",{staticClass:"fa fa-remove"}),t._v(" Delete")]):t._e(),t._v("  \n                ")],1)]}}])})],1)])},staticRenderFns:[]}},vMQG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),s=n("NYxO");e.default={name:"intake-index",data:function(){return{fields:["id","date",{name:"actions",titleClass:"fit-content",dataClass:"fit-content",sortable:!1}]}},computed:a()({},Object(s.c)("intakes",{byId:"byId",fetching:"fetching",meta:"meta",paginated:"paginated"}),{all:function(){return this.paginated}}),created:function(){this.init(this.$route.query)},watch:{$route:function(){this.init(this.$route.query)}},methods:a()({},Object(s.b)("intakes",["destroy","fetch"]),{confirmDelete:function(t){var e=this;confirm("Are you sure that you want to delete this intake ("+t+")?")&&this.destroy({id:t}).then(function(n){e.addMessage("This intake ("+t+") has been deleted.")})},init:function(t){var e={params:{page:t&&t.page||1}};this.fetch(e)}})}}});