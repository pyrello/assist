webpackJsonp([76],{"2ZiJ":function(t,e,i){var n=i("VU/8")(i("Yx72"),i("CiUb"),!1,null,null,null);t.exports=n.exports},CiUb:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"content-header"},[i("div",{staticClass:"header-actions pull-right hidden-sm hidden-xs desktop"},[i("add-button",{attrs:{url:"/clients/add",text:"Add Client"}})],1),t._v(" "),i("h1",[t._v("Clients")]),t._v(" "),i("div",{staticClass:"header-actions hidden-md hidden-lg mobile"},[i("add-button",{attrs:{url:"/clients/add",text:"Add Client"}})],1)]),t._v(" "),i("div",{staticClass:"section"},[i("grid",{attrs:{fields:t.fields,data:t.all,fetching:t.fetching,meta:t.meta,initialSortKey:"last_name"},scopedSlots:t._u([{key:"first_name",fn:function(e){return[i("router-link",{attrs:{to:"/clients/"+e.item.id}},[t._v(t._s(e.item.first_name))])]}},{key:"last_name",fn:function(e){return[i("router-link",{attrs:{to:"/clients/"+e.item.id}},[t._v(t._s(e.item.last_name))])]}},{key:"actions",fn:function(e){return[i("div",{staticClass:"table-button-container"},[i("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/clients/"+e.item.id+"/edit"}},[i("i",{staticClass:"fa fa-edit"}),t._v(" Edit")]),t._v(" "),t.authUser.is_admin?i("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(i){t.confirmDelete(e.item.id)}}},[i("i",{staticClass:"fa fa-remove"}),t._v(" Delete")]):t._e(),t._v("  \n                ")],1)]}}])})],1)])},staticRenderFns:[]}},Yx72:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),a=i.n(n),s=i("NYxO");i("OQde");e.default={name:"clients",data:function(){return{fields:[{name:"first_name",title:"First Name"},{name:"last_name",title:"Last Name"},{name:"id",title:"ID"},{name:"actions",titleClass:"fit-content",dataClass:"fit-content",sortable:!1}]}},computed:a()({},Object(s.c)("clients",{byId:"byId",fetching:"fetching",paginated:"paginated",meta:"meta"}),{all:function(){return this.paginated(this.page)},page:function(){return this.$route&&this.$route.query&&this.$route.query.page||1}}),created:function(){this.init(this.$route.query)},beforeRouteUpdate:function(t,e,i){this.init(t.query),i()},methods:a()({},Object(s.b)("clients",["destroy","fetch"]),{confirmDelete:function(t){var e=this,i=this.byId(t).full_name;confirm("Are you sure that you want to delete the client, "+i+"?")&&this.destroy({id:t}).then(function(){e.addMessage(i+" has been deleted."),e.$router.push("/clients/"+t+"/incidents")})},init:function(t){var e={params:{page:t&&t.page||1}};this.fetch(e)}})}}});