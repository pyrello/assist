webpackJsonp([63],{"3Dq8":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Dependents")]),t._v(" "),n("div",[n("grid",{attrs:{fields:t.clientFields,data:t.clientDependents,fetching:t.fetchingClient},scopedSlots:t._u([{key:"first_name",fn:function(e){return[n("router-link",{attrs:{to:"/clients/"+e.item.id}},[t._v(t._s(e.item.first_name))])]}},{key:"last_name",fn:function(e){return[n("router-link",{attrs:{to:"/clients/"+e.item.id}},[t._v(t._s(e.item.last_name))])]}},{key:"actions",fn:function(e){return[n("div",{staticClass:"table-button-container"},[n("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/clients/"+e.item.id+"/edit"}},[n("i",{staticClass:"fas fa-edit"}),t._v(" Edit")]),t._v(" "),t.authUser.is_admin?n("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(n){t.confirmRemove(e.item.id)}}},[n("i",{staticClass:"fas fa-trash-alt"}),t._v(" Remove")]):t._e(),t._v("  \n                ")],1)]}}])})],1),t._v(" "),n("h4",[t._v("Non-client Dependents")]),t._v(" "),t.fetching?n("div",{staticClass:"lead"},[n("i",{staticClass:"fa fa-refresh fa-spin"}),t._v(" Loading data\n    ")]):n("div",[n("grid",{attrs:{fields:t.fields,data:t.dependents,fetching:t.fetching},scopedSlots:t._u([{key:"name",fn:function(e){return[n("router-link",{attrs:{to:"/dependents/"+e.item.id}},[t._v(t._s(e.item.name))])]}},{key:"actions",fn:function(e){return[n("div",{staticClass:"table-button-container"},[n("router-link",{staticClass:"btn btn-warning btn-xs",attrs:{to:"/dependents/"+e.item.id+"/edit"}},[n("i",{staticClass:"fas fa-edit"}),t._v(" Edit")]),t._v(" "),t.authUser.is_admin?n("button",{staticClass:"btn btn-danger btn-xs",on:{click:function(n){t.confirmDelete(e.item.id)}}},[n("i",{staticClass:"fas fa-trash-alt"}),t._v(" Delete")]):t._e(),t._v("  \n                ")],1)]}}])})],1)])},staticRenderFns:[]}},FWW6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),s=n("NYxO"),r=n("N4sO"),d=n("fQ0y");e.default={name:"dependent-index",mixins:[d.a],data:function(){return{fields:[{name:"name",title:"Type"},{name:"age",title:"Age"},{name:"actions",dataClass:"fit-content",titleClass:"fit-content",sortable:!1}],clientFields:[{name:"first_name",title:"First name"},{name:"last_name",title:"Last name"},"age",{name:"actions",dataClass:"fit-content",titleClass:"fit-content",sortable:!1}]}},computed:a()({},Object(s.c)("clients",{filtered:"filtered"}),Object(s.c)("dependents",{byId:"byId",dependents:"paginated",fetching:"fetching",meta:"meta"}),{clientDependents:function(){return this.filtered(Object(r.paramSignature)({params:{parent_id:this.$route.params.client_id}}))}}),created:function(){this.init()},watch:{$route:function(){this.init()}},methods:a()({},Object(s.b)("dependents",["destroy","fetch"]),Object(s.b)("clients",{update:"update"}),{confirmDelete:function(t){var e=this;if(confirm("Are you sure that you want to delete this dependent?")){var n=this.byId(t).client_id;this.destroy({id:t}).then(function(){e.addMessage("The dependent has been deleted."),e.fetchClient({id:n})})}},confirmRemove:function(t){var e=this,n=this.clientById(t);if(confirm("Are you sure that you want to remove "+n.full_name+" as a dependent of "+this.client.full_name+"? The record for "+n.full_name+" will not be deleted.")){var i={id:t,data:{parent_id:null}};this.update(i).then(function(){e.addMessage(n.full_name+" was removed as a dependent of "+e.client.full_name+"."),e.init()})}},init:function(){var t={params:a()({},this.$route.params)};this.fetch(t);var e={params:{parent_id:this.$route.params.client_id}};this.fetchClient(e)}})}},UmUL:function(t,e,n){"use strict";var i=n("Dd8w"),a=n.n(i),s=n("bOdI"),r=n.n(s),d=n("Zrlr"),o=n.n(d),c=n("NYxO"),u=n("OQde"),l=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},f=n("TFAV");e.a=function t(e){var n,i,s,d=e.name,m=e.storeName,h=e.model,p=void 0===h?f.a:h;o()(this,t),this.modelMixinOptions={name:d,storeName:m,model:p};var _=this;this.data=function(){var t;return t={},r()(t,_.modelMixinOptions.name,new _.modelMixinOptions.model),r()(t,"params",r()({},_.modelMixinOptions.name+"_id",null)),t},this.computed=a()({},Object(c.c)(m,(n={},r()(n,d+"ById","byId"),r()(n,"route"+l(d),"byRoute"),r()(n,"fetching"+l(d),"fetching"),n)),r()({},d+"Data",function(){return this["fetching"+l(d)],this["route"+l(d)]})),this.created=function(){this["set"+l(d)+"Id"]()},this.watch=(i={},r()(i,d+"Data",function(){this["reset"+_.modelMixinOptions.name](),this[_.modelMixinOptions.name+"Data"]&&this[""+_.modelMixinOptions.name].assign(this[_.modelMixinOptions.name+"Data"])}),r()(i,"this.$route.params."+d+"_id",function(){this["set"+l(d)+"Id"]()}),i),this.methods=a()({},Object(c.b)(m,r()({},"fetch"+l(d),"fetch")),(s={},r()(s,"set"+l(d)+"Id",function(t){t=t?Number(t):this.$route.params[d+"_id"]?Number(this.$route.params[d+"_id"]):null,Vue.set(this.params,d+"_id",t)}),r()(s,d+"IdExists",function(){return Object(u.f)(this.params[d+"_id"])&&null!==this.params[d+"_id"]}),r()(s,"fetchRoute"+l(d),function(){var t=this,e=Number(this.$route.params[d+"_id"]);return!!e&&this["fetch"+l(d)]({id:e,fetchId:"id:"+e}).then(function(e){return t["route"+l(d)+"Fetched"](),t["current"+l(d)+"Fetched"](),e}).catch(function(t){console.error(t)})}),r()(s,"fetchCurrent"+l(d),function(){return this["fetchRoute"+l(d)]()}),r()(s,"current"+l(d)+"Fetched",function(){}),r()(s,"route"+l(d)+"Fetched",function(){}),r()(s,d+"Fetched",function(){}),r()(s,"reset",function(){this.resetData()}),r()(s,"resetData",function(){this["reset"+d](),this.params[d+"_id"]=null}),r()(s,"reset"+d,function(){this[d]=new p}),s))}},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var i,a=n("C4MV"),s=(i=a)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,s.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},fQ0y:function(t,e,n){"use strict";var i=n("Dd8w"),a=n.n(i),s=n("b+22"),r=n("UmUL");e.a=a()({},new r.a({name:"client",storeName:"clients",model:s.a}))},vyFY:function(t,e,n){var i=n("VU/8")(n("FWW6"),n("3Dq8"),!1,null,null,null);t.exports=i.exports}});